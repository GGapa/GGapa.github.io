{"id":656,"date":"2023-10-03T22:18:05","date_gmt":"2023-10-03T14:18:05","guid":{"rendered":"https:\/\/ggapa.github.io\/?p=656"},"modified":"2023-10-15T00:13:58","modified_gmt":"2023-10-14T16:13:58","slug":"%e7%ae%97%e6%b3%95%e7%ab%9e%e8%b5%9b%e4%b8%ad-sort-%e7%9a%84%e4%bd%bf%e7%94%a8","status":"publish","type":"post","link":"https:\/\/ggapa.github.io\/2023\/10\/03\/%e7%ae%97%e6%b3%95%e7%ab%9e%e8%b5%9b%e4%b8%ad-sort-%e7%9a%84%e4%bd%bf%e7%94%a8\/","title":{"rendered":"算法竞赛中 sort 的使用"},"content":{"rendered":"<h1>sort\n</h1>
<p>算法竞赛中的每一毫秒都是珍贵的<br>\n而 <code>sort 的不恰当使用会浪费很多额外的时间，尤其是在数据量较大的时候。<br>\n平时阅读题解的时候发现很多大佬都会这样子写 <code>sort :\n<pre><code class='\"language-cpp\"'>sort(a + 1, a + 1 + n, [](const int&amp; x, const int&amp; y) { return x &gt; y; });\n<p>或者是这样\n
<pre><code class='\"language-cpp\"'>sort(a + 1, a + 1 + n, []greater());\n<p>的确这样子写都能加快程序运行的时间，相比于通过传递的 <code>sort 写法：\n<pre><code class='\"language-cpp\"'>...\nbool cmp(int x, int y) {\n    return x &gt; y;\n}\n...\nsort(a + 1, a + 1 + n, cmp);\n...\n<p>这样子写每一次在调用的时候都会定义两个变量 x、 y 造成程序的效率降低，在使用结构体的时候尤其明显。\n
<h1>例子\n</h1>
<p><a href="\"https:\/\/www.luogu.com.cn\/problem\/UVA11729\"">UVA11729 Commando War\n<p>分别使用以下两份 C++ 代码\n
<pre><code class='\"language-cpp\"'>\/*\nCommando War\nhttps:\/\/vjudge.csgrandeur.cn\/contest\/584210#problem\/A\n*\/\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nconst int maxn = 1005;\n\nstruct Work {\n    int pre, spd;\n}work[maxn];\n\nbool cmp(Work x, Work y) {\n    return x.spd &gt; y.spd;\n}\n\nint n;\n\nint main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0);\n    cout.tie(0);\n    int it = 0;\n    while(true) {\n        cin &gt;&gt; n;\n        it++;\n        if (n == 0) break;\n        for(int i = 1; i &lt;= n; i++)\n            cin &gt;&gt; work[i].pre &gt;&gt; work[i].spd;\n        sort(work + 1, work + 1 + n, cmp);\n        int ans1 = 0, ans2 = 0;\n        for(int i = 1; i &lt;= n; i++) {\n            ans1 += work[i].pre;\n            ans2 = max(ans2, ans1 + work[i].spd);\n        }\n        cout &lt;&lt; &quot;Case &quot; &lt;&lt; it &lt;&lt; &quot;: &quot; &lt;&lt; ans2 &lt;&lt; endl;\n    }\n    return 0;\n}\n\n\/*\n编程语言\nC++14 (GCC 9)\n代码长度\n843B\n用时\n10ms\n内存\n0B\n*\/\n<pre><code class='\"language-cpp\"'>\/*\nCommando War\n*\/\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nconst int maxn = 1005;\n\nstruct Work {\n    int pre, spd;\n}work[maxn];\n\n\/*\nbool cmp(Work x, Work y) {\n    return x.spd &gt; y.spd;\n}\n*\/\n\nint n;\n\nint main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0);\n    cout.tie(0);\n    int it = 0;\n    while(true) {\n        cin &gt;&gt; n;\n        it++;\n        if (n == 0) break;\n        for(int i = 1; i &lt;= n; i++)\n            cin &gt;&gt; work[i].pre &gt;&gt; work[i].spd;\n        sort(work + 1, work + 1 + n,\n         [](const Work&amp; x, const Work&amp; y) { return x.spd &gt; y.spd; });\n        int ans1 = 0, ans2 = 0;\n        for(int i = 1; i &lt;= n; i++) {\n            ans1 += work[i].pre;\n            ans2 = max(ans2, ans1 + work[i].spd);\n        }\n        cout &lt;&lt; &quot;Case &quot; &lt;&lt; it &lt;&lt; &quot;: &quot; &lt;&lt; ans2 &lt;&lt; &quot;\\n&quot;;\n    }\n    return 0;\n}\n\/*\n编程语言\nC++14 (GCC 9)\n代码长度\n916B\n用时\n0ms\n内存\n0B\n*\/\n<p>*<em>UVA 的测评机十分感人，可能与实际数据相比可能有偏差\n<p>在 $n \\le 1000$ 的情况下，足足慢了 10ms （可能还不止，），由此可见二者的效率差距\n","protected":false},"excerpt":{"rendered":"
<p>sort 算法竞赛中的每一毫秒都是珍贵的 而 sort 的不恰当使用会浪费很多额外的时间，尤其是在数据量较大的 [&hellip;]\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[12],"tags":[22,23],"_links":{"self":[{"href":"https:\/\/ggapa.github.io\/wp-json\/wp\/v2\/posts\/656"}],"collection":[{"href":"https:\/\/ggapa.github.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/ggapa.github.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/ggapa.github.io\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/ggapa.github.io\/wp-json\/wp\/v2\/comments?post=656"}],"version-history":[{"count":2,"href":"https:\/\/ggapa.github.io\/wp-json\/wp\/v2\/posts\/656\/revisions"}],"predecessor-version":[{"id":658,"href":"https:\/\/ggapa.github.io\/wp-json\/wp\/v2\/posts\/656\/revisions\/658"}],"wp:attachment":[{"href":"https:\/\/ggapa.github.io\/wp-json\/wp\/v2\/media?parent=656"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/ggapa.github.io\/wp-json\/wp\/v2\/categories?post=656"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/ggapa.github.io\/wp-json\/wp\/v2\/tags?post=656"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}</em></code></pre></code></pre></a></code></pre></code></code></pre></code></pre></code></code>